<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>JPG Light Value Analysis with Python, PIL and MatPlotLib - Nate Spilman - Website and Blog</title><meta name="gridsome:hash" content="1acd9ff7544f5ebc679a6336555ee451878b9c4a"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.13"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="Building a Histogram to analyze the light values of an image"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.c80fec4a30576dc445ab6aaefa7ada40.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.c80fec4a30576dc445ab6aaefa7ada40.png"><link rel="preload" href="/assets/css/0.styles.fd367411.css" as="style"><link rel="preload" href="/assets/js/app.007676c5.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.a6d96d51.js" as="script"><link rel="prefetch" href="/assets/js/8.bf9ed3fe.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.4c21ad69.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.3b14c5f2.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.3cef7730.js"><link rel="prefetch" href="/assets/js/page--src--pages--tags-vue.78ac3027.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.7cf76674.js"><link rel="stylesheet" href="/assets/css/0.styles.fd367411.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div id="app" data-server-rendered="true"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a href="/" class="logo active"><strong>Nate Spilman</strong> dot com
          </a><ul class="icons"><li><a href="https://twitter.com/Natetheperson" target="_blank" rel="noopener" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li><li><a href="https://www.instagram.com/natespilman/" target="_blank" rel="noopener" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li><li><a href="https://github.com/nspilman" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li><li><a href="https://www.linkedin.com/in/natespilman/" target="_blank" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li></ul></header><article id="home" class="panel special"><div id="post-main"><article class="post"><header><h1>JPG Light Value Analysis with Python, PIL and MatPlotLib</h1><p>Building a Histogram to analyze the light values of an image</p><time datetime="2015-11-01" class="published">Tuesday, March 31, 2020</time></header><div id="post-body"><p><em>All images used in this post are from the amazing <a href="Unsplash.com">Unsplash.com</a></em></p>
<h2 id="introduction"><a href="#introduction" aria-hidden="true"><span class="icon icon-link"></span></a>Introduction</h2>
<p>We'll be making a histogram using <code>matplotlib</code> to display light distribution of pixel count in JPG images. Each pixel has an RGB value(red, green, blue) ranging 0 to 255, with the light value representing the sum of those values. <code>(0,0,0)</code> is black - zero light, and <code>(255,255,255)</code> is white - full light. Our <code>x</code> axis range will be 0 to 765. </p>
<p>For example -  The light distribution of the this image ...</p>
<p><br><img src="https://images.unsplash.com/photo-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80" alt="alt text" title="Example Image for Light Distribution"></p>
<p>is this - </p>
<p><img src="/uploads/3lightdistroimages_introexample.png"></p>
<p>We can see a large distribution of dark pixels than light ones. </p>
<p>Why are we doing this? Because we can! While I don't have a ton of specific use cases for this, being able to use data to answer questions is important. Our initial question is "What is the light distribution of this image?" </p>
<h2 id="what-well-be-doing"><a href="#what-well-be-doing" aria-hidden="true"><span class="icon icon-link"></span></a>What we'll be doing?</h2>
<p>All of the following steps are in Python.  </p>
<ol>
<li>Use <code>PIL</code> to load an image into memory. </li>
<li>Shrink the image down to a pixel size we can more easily view. </li>
<li>Use <code>numpy</code> to convert our image into an array. Flatten the 3d array into a 2d array of the RGB values. </li>
<li>Convert the pixel array into an array of the pixel light values - the sun of the rgb values.  </li>
<li>Use <code>matplotlib</code> to generate the histogram. </li>
</ol>
<p>Let's get started! </p>
<hr>
<h2 id="use-pil-to-load-an-image-into-memory"><a href="#use-pil-to-load-an-image-into-memory" aria-hidden="true"><span class="icon icon-link"></span></a>Use PIL to load an image into memory.</h2>
<p>PIL is an absolutely magical package for image processing.  I created the <code>getImageFromUrl(url)</code> method that takes in a url, uses python's <code>requests</code> package to make the https request, and then load the image. We need to pass the response content into BytesIO to read the requests content into a format that PIL can consume and convert into an Image object. </p>
<p>By the end of this code, we have an image from the internet in memory as a PIL.Image object. </p>
<pre><code class="language-python">from PIL import Image
import requests

def getImageFromUrl(url):
    response = requests.get(url)
    return Image.open(BytesIO(response.content))

imageUrl = "https://images.unsplash.com/photo-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80"

image = getImageFromUrl(imageUrl)
</code></pre>
<hr>
<h2 id="shrink-the-image-down-to-a-pixel-size-we-can-more-easily-view"><a href="#shrink-the-image-down-to-a-pixel-size-we-can-more-easily-view" aria-hidden="true"><span class="icon icon-link"></span></a>Shrink the image down to a pixel size we can more easily view.</h2>
<p>I created a helper method to resize the image file so that it's largest side is a pixel count we pass in. This is to keep pixel count low enough to analyze quickly and in a controlled way. By the end of this block, we have a resized image with 150 pixels as the largest side, and the aspect ratio remaining the same. </p>
<pre><code class="language-python">def resize_setLargestSide(image,maxSide):
    width,height = image.size
    widthRatio = width / (width + height)
    heightRatio = height / (width + height)
    if width > height:
        newWidth = maxSide
        widthPlusHeight = newWidth / widthRatio
        newHeight = widthPlusHeight - newWidth
    else:
        newHeight = maxSide
        widthPlusHeight = newHeight / heightRatio
        newWidth = widthPlusHeight - newHeight
    return image.resize((int(newWidth),int(newHeight)))

newImage = resize_setLargestSide(image,150)
</code></pre>
<hr>
<h2 id="use-numpy-to-convert-our-image-into-an-array-flatten-the-3d-array-into-a-2d-array-of-the-rgb-values"><a href="#use-numpy-to-convert-our-image-into-an-array-flatten-the-3d-array-into-a-2d-array-of-the-rgb-values" aria-hidden="true"><span class="icon icon-link"></span></a>Use <code>numpy</code> to convert our image into an array. Flatten the 3d array into a 2d array of the RGB values.</h2>
<p>the <code>np.array</code> method converts a PIL.Image object to a 3d np array - height by width by pixels (r,g,b). numpy arrays have the property <code>shape</code>, which in the case below returns the width, height, and 3, which is the length of the pixel. I create <code>flattenedShape</code> which will be used to convert the 3d array into a 2d array by multiplying the length by width, which is then passed into <code>reshape()</code>, a method that lives on the np array.</p>
<p><code>reshape()</code> only works if the number of values remains the same, so had  I not multiplied width by height, <code>reshape()</code> would have failed. </p>
<pre><code class="language-python">import numpy as np

imageArray = np.array(newImage)
shape = imageArray.shape
flattenedShape = (shape[0] * shape[1],shape[2])
reshapedImage = imageArray.reshape(flattenedShape)
</code></pre>
<hr>
<h2 id="convert-the-pixel-array-into-an-array-of-the-pixel-light-values---the-sun-of-the-rgb-values"><a href="#convert-the-pixel-array-into-an-array-of-the-pixel-light-values---the-sun-of-the-rgb-values" aria-hidden="true"><span class="icon icon-link"></span></a>Convert the pixel array into an array of the pixel light values - the sun of the rgb values.</h2>
<p>Boy do I love <a href="https://www.pythonforbeginners.com/basics/list-comprehensions-in-python" target="_blank" rel="nofollow noopener noreferrer">list comprehensions.</a> Below takes the 2d array and converts it to a 1 dimensional array of pixel light values, by summing the 3 values of the pixel.  At this point, we have our data ready to graph!</p>
<pre><code class="language-python">lightValues = [sum(pixel) for pixel in reshapedImage]
</code></pre>
<hr>
<h2 id="use-matplotlib-to-generate-the-histogram"><a href="#use-matplotlib-to-generate-the-histogram" aria-hidden="true"><span class="icon icon-link"></span></a>Use <code>matplotlib</code> to generate the histogram.</h2>
<p>And now, we graph! </p>
<pre><code class="language-python">import matplotlib.pyplot as plt

plt.hist(lightValues, bins=20, facecolor = 'blue')
plt.ylabel("Amount of Light")
plt.xlabel("Pixel Concentration")
plt.title('Light Values')
plt.axis([0,775,0,4000])
plt.show()
</code></pre>
<h2 id="full-code"><a href="#full-code" aria-hidden="true"><span class="icon icon-link"></span></a>Full Code</h2>
<pre><code class="language-python">from PIL import Image
from io import BytesIO
import requests

def getImageFromUrl(url):
    response = requests.get(url)
    return Image.open(BytesIO(response.content))

imageUrl = "https://images.unsplash.com/photo-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80"

image = getImageFromUrl(imageUrl)

def resize_setLargestSide(image,maxSide):
    width,height = image.size
    widthRatio = width / (width + height)
    heightRatio = height / (width + height)
    if width > height:
        newWidth = maxSide
        widthPlusHeight = newWidth / widthRatio
        newHeight = widthPlusHeight - newWidth
    else:
        newHeight = maxSide
        widthPlusHeight = newHeight / heightRatio
        newWidth = widthPlusHeight - newHeight
    return image.resize((int(newWidth),int(newHeight)))

newImage = resize_setLargestSide(image,150)

import numpy as np

imageArray = np.array(newImage)
shape = imageArray.shape
flattenedShape = (shape[0] * shape[1],shape[2])
reshapedImage = imageArray.reshape(flattenedShape)

lightValues = [sum(pixel) for pixel in reshapedImage]

import matplotlib.pyplot as plt

plt.hist(lightValues, bins=20, facecolor = 'blue')
plt.ylabel("Amount of Light")
plt.xlabel("Pixel Concentration")
plt.title('Light Values')
plt.axis([0,775,0,4000])
plt.show()
</code></pre>
<h2 id="example-outputs"><a href="#example-outputs" aria-hidden="true"><span class="icon icon-link"></span></a>Example Outputs</h2>
<h4 id="input"><a href="#input" aria-hidden="true"><span class="icon icon-link"></span></a>input</h4>
<p><img src="https://images.unsplash.com/photo-1514729077270-37608dea7d7d?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80" alt="High Contrast - Dark and Light" title="High Contrast - Dark and Light"></p>
<h4 id="output"><a href="#output" aria-hidden="true"><span class="icon icon-link"></span></a>output</h4>
<p><img src="/uploads/3lightdistroimages_darkimage.png" alt="Dark Image light distribution" title="Dark Image light distribution"></p>
<hr>
<h4 id="input-1"><a href="#input-1" aria-hidden="true"><span class="icon icon-link"></span></a>input</h4>
<p><img src="https://images.unsplash.com/photo-1516649195228-a023c093df99?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80" alt="More Neutral Image" title="More Neutral Image"></p>
<h4 id="output-1"><a href="#output-1" aria-hidden="true"><span class="icon icon-link"></span></a>output</h4>
<p><img src="/uploads/3lightdistroimages_neutralimage.png" alt="Dark Image neutral distribution" title="Dark Image neutral distribution"></p>
<hr>
<h4 id="input-2"><a href="#input-2" aria-hidden="true"><span class="icon icon-link"></span></a>input</h4>
<p><img src="https://images.unsplash.com/photo-1538935516496-9972a989f715?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80" alt="Bright Image" title="Bright Image"></p>
<h4 id="output-2"><a href="#output-2" aria-hidden="true"><span class="icon icon-link"></span></a>output</h4>
<p><img src="/uploads/3lightdistroimages_lightimage.png" alt="Dark Image light distribution" title="Dark Image light distribution"></p>
</div></article><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:2em;"><li><a href="/blog/my-best-of-beginner-software-development-educational-resources-list/"> My best-of beginner software development educational resources list </a></li><li><a href="/blog/guitar-education-improvising-on-mode-shapes/"> Guitar Education - Improvising on Mode Shapes </a></li></ul></div></article></div></div><div id="sidebar-wrapper" style="width:25em;"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Hamburger_icon.svg/440px-Hamburger_icon.svg.png" class="toggle" style="left:22em;"><div id="sidebar"><div class="inner"><section id="search" class="alt"></section><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="/" class="active">Home</a></li><li><a href="/blog" class="active">Blog</a></li><li><a href="https://natespilman.tech/media/pdfs/2019_Resume.pdf" target="_blank" rel="noopener">Resume</a></li></ul></nav></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"JPG Light Value Analysis with Python, PIL and MatPlotLib","description":"Building a Histogram to analyze the light values of an image","path":"\u002Fblog\u002Fmaking-a-histogram-image-light-with-matplotlib\u002F","content":"\u003Cp\u003E\u003Cem\u003EAll images used in this post are from the amazing \u003Ca href=\"Unsplash.com\"\u003EUnsplash.com\u003C\u002Fa\u003E\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"introduction\"\u003E\u003Ca href=\"#introduction\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EIntroduction\u003C\u002Fh2\u003E\n\u003Cp\u003EWe'll be making a histogram using \u003Ccode\u003Ematplotlib\u003C\u002Fcode\u003E to display light distribution of pixel count in JPG images. Each pixel has an RGB value(red, green, blue) ranging 0 to 255, with the light value representing the sum of those values. \u003Ccode\u003E(0,0,0)\u003C\u002Fcode\u003E is black - zero light, and \u003Ccode\u003E(255,255,255)\u003C\u002Fcode\u003E is white - full light. Our \u003Ccode\u003Ex\u003C\u002Fcode\u003E axis range will be 0 to 765. \u003C\u002Fp\u003E\n\u003Cp\u003EFor example -  The light distribution of the this image ...\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cbr\u003E\u003Cimg src=\"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\" alt=\"alt text\" title=\"Example Image for Light Distribution\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Eis this - \u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fuploads\u002F3lightdistroimages_introexample.png\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EWe can see a large distribution of dark pixels than light ones. \u003C\u002Fp\u003E\n\u003Cp\u003EWhy are we doing this? Because we can! While I don't have a ton of specific use cases for this, being able to use data to answer questions is important. Our initial question is \"What is the light distribution of this image?\" \u003C\u002Fp\u003E\n\u003Ch2 id=\"what-well-be-doing\"\u003E\u003Ca href=\"#what-well-be-doing\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWhat we'll be doing?\u003C\u002Fh2\u003E\n\u003Cp\u003EAll of the following steps are in Python.  \u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EUse \u003Ccode\u003EPIL\u003C\u002Fcode\u003E to load an image into memory. \u003C\u002Fli\u003E\n\u003Cli\u003EShrink the image down to a pixel size we can more easily view. \u003C\u002Fli\u003E\n\u003Cli\u003EUse \u003Ccode\u003Enumpy\u003C\u002Fcode\u003E to convert our image into an array. Flatten the 3d array into a 2d array of the RGB values. \u003C\u002Fli\u003E\n\u003Cli\u003EConvert the pixel array into an array of the pixel light values - the sun of the rgb values.  \u003C\u002Fli\u003E\n\u003Cli\u003EUse \u003Ccode\u003Ematplotlib\u003C\u002Fcode\u003E to generate the histogram. \u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ELet's get started! \u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"use-pil-to-load-an-image-into-memory\"\u003E\u003Ca href=\"#use-pil-to-load-an-image-into-memory\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUse PIL to load an image into memory.\u003C\u002Fh2\u003E\n\u003Cp\u003EPIL is an absolutely magical package for image processing.  I created the \u003Ccode\u003EgetImageFromUrl(url)\u003C\u002Fcode\u003E method that takes in a url, uses python's \u003Ccode\u003Erequests\u003C\u002Fcode\u003E package to make the https request, and then load the image. We need to pass the response content into BytesIO to read the requests content into a format that PIL can consume and convert into an Image object. \u003C\u002Fp\u003E\n\u003Cp\u003EBy the end of this code, we have an image from the internet in memory as a PIL.Image object. \u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Efrom PIL import Image\nimport requests\n\ndef getImageFromUrl(url):\n    response = requests.get(url)\n    return Image.open(BytesIO(response.content))\n\nimageUrl = \"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\"\n\nimage = getImageFromUrl(imageUrl)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"shrink-the-image-down-to-a-pixel-size-we-can-more-easily-view\"\u003E\u003Ca href=\"#shrink-the-image-down-to-a-pixel-size-we-can-more-easily-view\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EShrink the image down to a pixel size we can more easily view.\u003C\u002Fh2\u003E\n\u003Cp\u003EI created a helper method to resize the image file so that it's largest side is a pixel count we pass in. This is to keep pixel count low enough to analyze quickly and in a controlled way. By the end of this block, we have a resized image with 150 pixels as the largest side, and the aspect ratio remaining the same. \u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edef resize_setLargestSide(image,maxSide):\n    width,height = image.size\n    widthRatio = width \u002F (width + height)\n    heightRatio = height \u002F (width + height)\n    if width \u003E height:\n        newWidth = maxSide\n        widthPlusHeight = newWidth \u002F widthRatio\n        newHeight = widthPlusHeight - newWidth\n    else:\n        newHeight = maxSide\n        widthPlusHeight = newHeight \u002F heightRatio\n        newWidth = widthPlusHeight - newHeight\n    return image.resize((int(newWidth),int(newHeight)))\n\nnewImage = resize_setLargestSide(image,150)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"use-numpy-to-convert-our-image-into-an-array-flatten-the-3d-array-into-a-2d-array-of-the-rgb-values\"\u003E\u003Ca href=\"#use-numpy-to-convert-our-image-into-an-array-flatten-the-3d-array-into-a-2d-array-of-the-rgb-values\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUse \u003Ccode\u003Enumpy\u003C\u002Fcode\u003E to convert our image into an array. Flatten the 3d array into a 2d array of the RGB values.\u003C\u002Fh2\u003E\n\u003Cp\u003Ethe \u003Ccode\u003Enp.array\u003C\u002Fcode\u003E method converts a PIL.Image object to a 3d np array - height by width by pixels (r,g,b). numpy arrays have the property \u003Ccode\u003Eshape\u003C\u002Fcode\u003E, which in the case below returns the width, height, and 3, which is the length of the pixel. I create \u003Ccode\u003EflattenedShape\u003C\u002Fcode\u003E which will be used to convert the 3d array into a 2d array by multiplying the length by width, which is then passed into \u003Ccode\u003Ereshape()\u003C\u002Fcode\u003E, a method that lives on the np array.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Ereshape()\u003C\u002Fcode\u003E only works if the number of values remains the same, so had  I not multiplied width by height, \u003Ccode\u003Ereshape()\u003C\u002Fcode\u003E would have failed. \u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Eimport numpy as np\n\nimageArray = np.array(newImage)\nshape = imageArray.shape\nflattenedShape = (shape[0] * shape[1],shape[2])\nreshapedImage = imageArray.reshape(flattenedShape)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"convert-the-pixel-array-into-an-array-of-the-pixel-light-values---the-sun-of-the-rgb-values\"\u003E\u003Ca href=\"#convert-the-pixel-array-into-an-array-of-the-pixel-light-values---the-sun-of-the-rgb-values\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConvert the pixel array into an array of the pixel light values - the sun of the rgb values.\u003C\u002Fh2\u003E\n\u003Cp\u003EBoy do I love \u003Ca href=\"https:\u002F\u002Fwww.pythonforbeginners.com\u002Fbasics\u002Flist-comprehensions-in-python\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Elist comprehensions.\u003C\u002Fa\u003E Below takes the 2d array and converts it to a 1 dimensional array of pixel light values, by summing the 3 values of the pixel.  At this point, we have our data ready to graph!\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003ElightValues = [sum(pixel) for pixel in reshapedImage]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"use-matplotlib-to-generate-the-histogram\"\u003E\u003Ca href=\"#use-matplotlib-to-generate-the-histogram\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUse \u003Ccode\u003Ematplotlib\u003C\u002Fcode\u003E to generate the histogram.\u003C\u002Fh2\u003E\n\u003Cp\u003EAnd now, we graph! \u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Eimport matplotlib.pyplot as plt\n\nplt.hist(lightValues, bins=20, facecolor = 'blue')\nplt.ylabel(\"Amount of Light\")\nplt.xlabel(\"Pixel Concentration\")\nplt.title('Light Values')\nplt.axis([0,775,0,4000])\nplt.show()\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"full-code\"\u003E\u003Ca href=\"#full-code\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFull Code\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Efrom PIL import Image\nfrom io import BytesIO\nimport requests\n\ndef getImageFromUrl(url):\n    response = requests.get(url)\n    return Image.open(BytesIO(response.content))\n\nimageUrl = \"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1583364481915-dacea3e06d18?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\"\n\nimage = getImageFromUrl(imageUrl)\n\ndef resize_setLargestSide(image,maxSide):\n    width,height = image.size\n    widthRatio = width \u002F (width + height)\n    heightRatio = height \u002F (width + height)\n    if width \u003E height:\n        newWidth = maxSide\n        widthPlusHeight = newWidth \u002F widthRatio\n        newHeight = widthPlusHeight - newWidth\n    else:\n        newHeight = maxSide\n        widthPlusHeight = newHeight \u002F heightRatio\n        newWidth = widthPlusHeight - newHeight\n    return image.resize((int(newWidth),int(newHeight)))\n\nnewImage = resize_setLargestSide(image,150)\n\nimport numpy as np\n\nimageArray = np.array(newImage)\nshape = imageArray.shape\nflattenedShape = (shape[0] * shape[1],shape[2])\nreshapedImage = imageArray.reshape(flattenedShape)\n\nlightValues = [sum(pixel) for pixel in reshapedImage]\n\nimport matplotlib.pyplot as plt\n\nplt.hist(lightValues, bins=20, facecolor = 'blue')\nplt.ylabel(\"Amount of Light\")\nplt.xlabel(\"Pixel Concentration\")\nplt.title('Light Values')\nplt.axis([0,775,0,4000])\nplt.show()\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"example-outputs\"\u003E\u003Ca href=\"#example-outputs\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EExample Outputs\u003C\u002Fh2\u003E\n\u003Ch4 id=\"input\"\u003E\u003Ca href=\"#input\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Einput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1514729077270-37608dea7d7d?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\" alt=\"High Contrast - Dark and Light\" title=\"High Contrast - Dark and Light\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"output\"\u003E\u003Ca href=\"#output\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Eoutput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fuploads\u002F3lightdistroimages_darkimage.png\" alt=\"Dark Image light distribution\" title=\"Dark Image light distribution\"\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"input-1\"\u003E\u003Ca href=\"#input-1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Einput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1516649195228-a023c093df99?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\" alt=\"More Neutral Image\" title=\"More Neutral Image\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"output-1\"\u003E\u003Ca href=\"#output-1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Eoutput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fuploads\u002F3lightdistroimages_neutralimage.png\" alt=\"Dark Image neutral distribution\" title=\"Dark Image neutral distribution\"\u003E\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"input-2\"\u003E\u003Ca href=\"#input-2\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Einput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1538935516496-9972a989f715?ixlib=rb-1.2.1&#x26;ixid=eyJhcHBfaWQiOjEyMDd9&#x26;auto=format&#x26;fit=crop&#x26;w=600&#x26;q=80\" alt=\"Bright Image\" title=\"Bright Image\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"output-2\"\u003E\u003Ca href=\"#output-2\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Eoutput\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fuploads\u002F3lightdistroimages_lightimage.png\" alt=\"Dark Image light distribution\" title=\"Dark Image light distribution\"\u003E\u003C\u002Fp\u003E\n","date":"2020-04-01T04:37:20.180Z"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.007676c5.js" defer></script><script src="/assets/js/page--src--templates--post-vue.a6d96d51.js" defer></script>
  </body>
</html>
